/*!
 * Project: 'pcmall';
 * Module: 'flashsale';
 * Tag: 'pc-v4.108.0';
 * Branch: 'heads/pc-v4.108.0';
 * Last commit: '[RELEASE] pc-v4.108.0' (449fe03e2236555f6fa491df3868f5c452bcb9b9);
 * Updated: '2022-02-09T10:56:36.967Z';
 */
(self.mfeModules=self.mfeModules||[]).push(["pcmall-flashsale-entry",["React","PlatformApi","WithInjectReducer","ReactRedux","Redux","ReactRouter","ReactHelmet","FeatureToggles","ReactDom"],function(e,t,n,r,o,a,s,l,i){return(self["mfeStartuppcmall-flashsale"]||function(){})(190),["pcmall-flashsale",(self.wpJsonpPcmallFlashsale=self.wpJsonpPcmallFlashsale||[]).push([[190],{5052:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(694),o=n(3804),a=n.n(o),s=n(5325),l=n(7073),i=n(6320),c=n(8997),u=n.n(c),h=n(4251),d=n(980),m=n(6239),p=n(9081),f=n(8696),_=n(5042);function v(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){var t=e.headerButton,n=e.onHeaderButtonClick,r=e.simpleVersion,o=e.hasNoNavigation,s=e.customButtonContent,l=e.headerButtonStyle,i=e.headerSectionButtonProps,c=t.linkTo,u=s||a().createElement(a().Fragment,null,t.text,"Â ",a().createElement(m.Z,null)),h=r?a().createElement(p.Rd,w({targetType:"SeeAllButton",style:l},i),u):a().createElement(p.s7,w({targetType:"SeeAllButton",style:l},i),u);return o?a().createElement("div",{className:"shopee-header-section__header-link",onClick:function(e){n&&n(e)}},h):a().createElement(d.Z,{to:c,className:"shopee-header-section__header-link",onClick:function(e){n&&n(e)},tabIndex:-1},h)},g=(0,h.Z)((function(e){var t=e.headerText,n=e.headerButton,r=e.children,o=e.simpleVersion,s=e.classNames,l=e.customButtonContent,i=e.hasNoNavigation,c=e.onHeaderButtonClick,h=e.style,d=void 0===h?{}:h,m=e.trackingRef,p=e.headerStyle,g=void 0===p?{}:p,y=e.customHeader,S=v(e,["headerText","headerButton","children","simpleVersion","classNames","customButtonContent","hasNoNavigation","onHeaderButtonClick","style","trackingRef","headerStyle","customHeader"]),C={backgroundImage:y&&y.background_image?"url("+(0,_.Jn)(y.background_image)+")":void 0},P=(g.seeAllColor,v(g,["seeAllColor"]));return a().createElement("div",{className:u()("shopee-header-section",s,!!o&&"shopee-header-section--simple"),ref:m||null,style:d},a().createElement("div",{className:"shopee-header-section__header",style:C},a().createElement("div",{className:"shopee-header-section__header__title",style:P},a().createElement(f.Z,{headerText:t,customHeader:y})),!!n&&a().createElement(E,{headerButton:n,simpleVersion:!!o,hasNoNavigation:!!i,customButtonContent:l,onHeaderButtonClick:c,headerButtonStyle:g&&g.seeAllColor?{color:g.seeAllColor}:g&&g.color?{color:g.color}:{},headerSectionButtonProps:w({},S)})),a().createElement("div",{className:"shopee-header-section__content"},r))}),"HeaderSection",{reportOnce:!0}),y=n(4184),S=n(6704),C=n(2451),P=n(4925),N=n(4158),T=n(6748),H=n(1229),O=n(9204),I=n(4351),R=n(3129),b=n(1801),F=n(6626),x=n.n(F),A=n(8523),k=n(9021);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,r,o,a,s){try{var l=e[a](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){L(a,r,o,s,l,"next",e)}function l(e){L(a,r,o,s,l,"throw",e)}s(void 0)}))}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}S.Tracking.injectTracking(x());for(var V=[],M=0;M<5;M++)V.push(o.createElement("div",{className:"shopee-product-recommend-items__item-wrapper"},o.createElement(P.Z,{isPlaceholder:!0,layout:N.HS.HOME_PAGE})));var j=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={isFetching:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var a=r.prototype;return a.UNSAFE_componentWillMount=function(){var e=this;this.setState({isFetching:!0}),Z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.universalDataFetch();case 2:case"end":return t.stop()}}),t)})))()},a.universalDataFetch=function(){var e=this.props.shouldPersonalized;return this.fetchFlashSaleContent(e)},a.UNSAFE_componentWillReceiveProps=function(e){var t=this,n=this.props.shouldPersonalized;e.shouldPersonalized!==n&&Z(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchFlashSaleContent(e.shouldPersonalized);case 2:case"end":return n.stop()}}),n)})))()},a.fetchFlashSaleContent=function(){var e=Z(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchFlashSaleItems({shouldPersonalized:t,filterSoldout:!0},0,i.zN,(function(e){return n.setState({isFetching:e})}),(function(){return n.setState({isFetching:!1})}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=this.props,t=e.meta,n=e.isShowSeeAll,r=void 0===n||n,a=e.itemInfo,s=e.trackingClick,l=e.customHeader,i=e.numItemsPerRow,c=e.layoutInfo,u=a&&a.items,h=t?t.end_time:-1,d=t?t.start_time:-1,m=t?t.promotionid:null;return this.state.isFetching||u&&!(u.length<6)?this.state.isFetching?o.createElement("div",{className:"shopee-flash-sale-overview-carousel"}):o.createElement("div",{className:"shopee-flash-sale-overview-carousel"},o.createElement(b.ZP,{targetType:"HomePage.FlashSaleOverviewCarousel",targetData:B({},c)},o.createElement(g,{headerText:o.createElement(C.Z,{startTime:d,endTime:h}),simpleVersion:!0,onHeaderButtonClick:s,headerButton:r&&m?{text:S.I18n.t("label_see_all"),linkTo:(0,T.V)({promotionId:m})}:null,customHeader:l},o.createElement(y.ZP,{showArrowOnHover:!0,showArrowHint:!0,numItemsPerRow:i,padding:"0px",items:u&&u.length>=6&&!this.state.isFetching?u.map((function(e,t){return o.createElement("div",{className:"shopee-product-recommend-items__item-wrapper",key:"flash-sale-overview-item-"+t},e?o.createElement(P.Z,{item:e,index:t,isOngoing:!0,layout:N.HS.HOME_PAGE,overwriteCardLink:(0,T.V)({promotionId:null===m?void 0:m,fromItem:e.itemid}),displayFlashSaleProgressBar:!0,setShowDiscountBadge:!0}):o.createElement("div",null))})):V})))):null},r}(o.Component);j.QUERY={filterSoldout:!0};var z=(0,s.connect)((function(e,t){var n,r,o=e.featureToggles.toggles[R.Xgy];return{shouldPersonalized:void 0!==o&&o,meta:(0,l.fg)(e),itemInfo:(0,l.Kj)(e),numItemsPerRow:(r=null===(n=t.layoutInfo)||void 0===n?void 0:n.layoutType,r===k.V2.Tiny?4:r===k.V2.Portrait?5:6)}}),{fetchFlashSaleItems:l.HU})(S.I18n.withI18nCollections([A.L,A.GC])((0,h.Z)((function(e){return o.createElement(H.Z.Consumer,null,(function(t){var n=t.customHeader;return o.createElement(j,B({customHeader:(0,I.Z)(n,[O.u.FLASH_SALE])||null},e))}))}),"FlashSaleOverviewCarousel"))),G=(0,r.Z)(z)},2451:function(e,t,n){"use strict";n.d(t,{_:function(){return p}});var r=n(3804),o=n.n(r),a=n(8997),s=n.n(a),l=n(4658),i=n(6704),c=n(1229),u=n(8696),h=n(9204),d=n(4351),m="IN"===__LOCALE__?"label_hot_deals_page_title":"label_flash_deals";t.Z=function(e){var t=e.endTime,n=void 0===t?0:t,r=e.startTime,a=void 0===r?0:r,p=e.layout,f=e.onCountdownEnd,_=e.endsInLogoType,v=void 0===_?"":_,w=e.withHorizontalLineDecorators,E=void 0!==w&&w,g=a&&1e3*a<Date.now();return o().createElement(c.Z.Consumer,null,(function(e){var t=e.FlashSaleCountdownTimerColon,r=e.FlashSaleCountdownTimerFlipBoard,c=e.customHeader,_=(0,d.Z)(c,[h.u.FLASH_SALE])||null,w=_&&(_.image||_.color);return o().createElement("div",{className:"flash-sale-header-with-countdown-timer flash-sale-header-with-countdown-timer--"+p},o().createElement("div",{className:s()("flash-sale-header-with-countdown-timer__wrapper flash-sale-header-with-countdown-timer__wrapper--"+p,E&&"flash-sale-header-with-countdown-timer__wrapper--with-horizontal-line-decorators")},w&&_?o().createElement(u.Z,{headerText:(0,i.t)(m),customHeader:_}):o().createElement("div",{className:"flash-sale-header-with-countdown-timer__header flash-sale-header-with-countdown-timer__header--"+__LOCALE__.toLowerCase()}),v&&o().createElement("div",{className:"flash-sale-ends-in flash-sale-ends-in--"+v},g?(0,i.t)("label_ends_in"):(0,i.t)("flash_sale_header_starts_at")),n>0&&o().createElement(l.ZP,{type:l.PR.COUNT_DOWN,targetTimeInSeconds:g?n:a,flipRate:l.fE.SECOND,onCountdownEnded:f,classNames:"flash-sale-header-with-countdown-timer__countdown-timer",flipBoardStyle:r||void 0,colonStyle:t||void 0})))}))};var p={HOME_PAGE:"home-page",LANDING_PAGE:"landing-page",PRODUCT_PAGE:"product-page"}},6320:function(e,t,n){"use strict";n.d(t,{zN:function(){return o},LX:function(){return a},bp:function(){return i},Tx:function(){return c},Vb:function(){return r},T:function(){return l},Xm:function(){return s},r3:function(){return u}});var r={default:"flash_sale",SG:"flash_deal",PH:"flash_deal",MY:"shocking_sale",ID:"flash_sale",TW:"flash_sale",VN:"flash_sale",TH:"flash_sale",BR:"flash_sale",MX:"flash_sale",CO:"flash_sale",CL:"flash_sale"},o=16,a=12,s=3,l=2,i={ID:"https://shopee.co.id/events3/code/1409859301/",VN:"https://shopee.vn/events3/code/124671459/",PH:"https://shopee.ph/events3/code/182315693/",TH:"https://shopee.co.th/web",MY:"https://shopee.com.my/web",SG:"https://shopee.sg/dp",TW:"https://shopee.tw/m/DPonWeb",BR:"https://shopee.com.br/web",MX:"https://shopee.com.mx/web",CO:"https://shopee.com.co/web",CL:"https://shopee.cl/web",PL:"https://shopee.pl/web",ES:"https://shopee.es/web",FR:"https://shopee.fr/web",IN:"https://shopee.in/web"},c={SHOPEE_ITEM:0,DIGITAL_PURCHASE:1},u=30},6748:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(7846);function o(e){var t=void 0===e?{}:e,n=t.categoryId,o=t.fromItem,a=t.promotionId;return(0,r.Z)(__LOCALE__).getUrl({categoryId:n,promotionId:a,fromItem:o})}},6626:function(e,t,n){e.exports=n.p+"ff4e713028159d5854eb.tr.js"},6704:function(e){"use strict";e.exports=t},3804:function(t){"use strict";t.exports=e},7274:function(e){"use strict";e.exports=i},5325:function(e){"use strict";e.exports=r},6775:function(e){"use strict";e.exports=a},4857:function(e){"use strict";e.exports=o},7762:function(e){"use strict";e.exports=n}},0,[[5052,666,209,475,136,960]]]),"Z",null]},1]),function(){if(window&&window.__DECKER_HOOK__){var e=window.__DECKER_HOOK__;function t(){e.sendToDevtools("MFE_LOAD_SLOT",{slotName:"pcmall-flashsale-entry",tag:"pc-v4.108.0",branch:"heads/pc-v4.108.0",lastCommit:"[RELEASE] pc-v4.108.0",lastCommitHash:"449fe03e2236555f6fa491df3868f5c452bcb9b9",updated:"2022-02-09T10:56:36.960Z"})}e.on("MFE_RETRIEVE_SLOTS",t),t()}}();